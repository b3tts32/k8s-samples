# k8s-samples
This repo contains various samples and scripts that refer to k8s and tools we can use with it.


# Local kubernetes
For launching a local cluster you can use [k3d](https://github.com/rancher/k3d):

```
curl -s https://raw.githubusercontent.com/rancher/k3d/main/install.sh | bash

k3d cluster create -p 8081:80@loadbalancer --agents 3
```

# ArgoCD
*Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes.*

For more details visit [https://argoproj.github.io/argo-cd/](https://argoproj.github.io/argo-cd/). 

If you have your k8s cluster up and running then you can install Argo by executing these two commands:

```
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
```
It takes a few minutes to install and configure Argo. Ones it's ready you can go to the UI dashbord:

```
# The initial password is autogenerated to be the pod name of the Argo CD API server.
kubectl get pods -n argocd -l app.kubernetes.io/name=argocd-server -o name | cut -d'/' -f 2

kubectl port-forward svc/argocd-server -n argocd 8080:443
```

Open `http://localhost:8080` and login as *admin*. The next step is to configure the first project. Step-by-step instruction how to do it can be found [here](https://argoproj.github.io/argo-cd/getting_started/). 
